<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTA SA Save Game EditorPy</title>

    <!-- <link rel="stylesheet" href="https://pyscript.net/releases/2022.12.1/pyscript.css" />
    <script defer src="https://pyscript.net/releases/2022.12.1/pyscript.js"></script> -->
    <link rel="stylesheet" href="https://pyscript.net/releases/2023.11.1/core.css" />
    <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script>
    
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.1.slim.js"
        integrity="sha256-tXm+sa1uzsbFnbXt8GJqsgi2Tw+m4BLGDof6eUPjbtk=" crossorigin="anonymous"></script>


</head>

<py-config src="./static/pyconfig.toml"></py-config>

<body>
    <!-- <style>
        .offcanvas,
        .offcanvas-xxl,
        .offcanvas-xl,
        .offcanvas-lg,
        .offcanvas-md,
        .offcanvas-sm {
            --bs-offcanvas-width: 75%;
        }
    </style> -->

    <py-script>
        print("Hello World!")
        import os

        print('/dev directory contents:')
        files = os.listdir('/home/pyodide')
        for file in files:
            print(file)
    </py-script>



    <nav class="navbar navbar-expand-lg border-bottom">
        <div class="container-fluid">
            <!-- <img class=“navbar-brand” src="./static/images/icons/GTA_SA_Savegame_EditorPy_icon_x512.png" style="width: 100px;" alt="Logo"> -->
            <a class="fs-4 navbar-brand mx-4" href="/">GTA SA Save Game EditorPy</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample"
                aria-controls="offcanvasExample" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="offcanvas offcanvas-start pr-5" tabindex="-1" id="offcanvasExample"
                aria-labelledby="offcanvasExampleLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav mb-2 mb-lg-0">
                        <li class="nav-item px-lg-2">
                        </li>
                        <li class="nav-item px-lg-2">
                            <a class="nav-link" href="#">Locations</a>
                        </li>

                    </ul>
                </div>
            </div>


        </div>
    </nav>



    <div class="text-center" style="margin-top: 60px;">
        <label for="bfile">Select GTA SA Save file:</label>
        <input class="form-control  rounded mb-3" type="file" accept=".b" id="bfile" name="textfile"
            onchange="readfile(this)">
    </div>
    <!-- Content here -->
    <div class="container" style="margin-top: 80px;">
        <form onsubmit='return false' id="form">
            <div class="row">
                <div class="col-lg-6 text-center" style="margin-bottom: 50px;">
                    <div class="form-group">
                        <label>Select Weapons
                            <select class="form-select" id="weapons">
                                <option value="ThugSet" selected>Infinite Thug Weapon Set</option>
                                <option value="NutterSet">Infinite Nutter Weapon Set</option>
                                <option value="ProfessionalSet">Infinite Professional Weapon Set
                                </option>
                            </select>
                        </label>
                        <div class="mt-3">
                            <input type="checkbox" class="form-check-input" id="Parachute">
                            <label class="form-check-label" for="Parachute">Parachute</label>
                        </div>
                    </div>
                    <br><br>
                    <div class="form-group">
                        <label>Add Vehicle to Garage
                            <select class="form-select" id="garage" multiple>
                                <option value="cjsafe" selected>Ganton garage (Grove St.)</option>
                                <option value="beacsv">Santa Maria Beach garage</option>
                                <option value="CEsafe1">Muholland garage</option>
                            </select>
                        </label>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <div class="mt-3">
                        <input type="checkbox" class="form-check-input" id="Health">
                        <label class="form-check-label" for="Health">Infinite Health</label>
                    </div>
                    <div class="mt-3">
                        <input type="checkbox" class="form-check-input" id="Armor">
                        <label class="form-check-label" for="Armor">Infinite Armor</label>
                    </div>
                    <div class="mt-3">
                        <input type="checkbox" class="form-check-input" id="Run">
                        <label class="form-check-label" for="Run">Infinite Run</label>
                    </div>
                    <div class="mt-3">
                        <input type="checkbox" class="form-check-input" id="Money">
                        <label class="form-check-label" for="Money">Infinite Money</label>
                    </div>
                    <div class="mt-3">
                        <input type="checkbox" class="form-check-input" id="Fireproof">
                        <label class="form-check-label" for="Fireproof">Fireproof</label>
                    </div>
                    <div class="form-group mt-5">
                        <span id="wantedValue"></span>
                        <label for="">Wanted Level :
                            <input onchange="showVal(this.value, 'wantedValue')" type="range"
                                name="" id="wantedlevel" min="0" max="6">
                        </label>
                    </div>
                    <div class="form-group mt-2">
                        <span id="fatValue"></span>
                        <label for="">Fat :
                            <input onchange="showVal(this.value, 'fatValue')" type="range" name="" id="fat" min="0"
                                max="100">
                        </label>
                    </div>
                    <div class="form-group mt-2">
                        <span id="muscleValue"></span>
                        <label for="">Muscle :
                            <input onchange="showVal(this.value, 'muscleValue')" type="range" name="" id="muscle"
                                min="0" max="100">
                        </label>
                    </div>
                    <div class="form-group mt-2">
                        <span id="sexValue"></span>
                        <label for="">Sex Appeal :
                            <input onchange="showVal(this.value, 'sexValue')" type="range" name="" id="sexappeal"
                                min="0" max="100">
                        </label>
                    </div>
                    <div class="form-group mt-2">
                        <span id="staminaValue"></span>
                        <label for="">Stamina :
                            <input onchange="showVal(this.value, 'staminaValue')" type="range" name="" id="stamina"
                                min="0" max="100">
                        </label>
                    </div>

                </div>
            </div>
            <div class="text-center" id="generateConfig">
                <!-- <input class="btn btn-primary m-5" type="submit" py-onclick="main()">Generate Save file</input> -->
                <input class="btn btn-primary m-5" py-onclick="main()" type="submit" id="btn-form"
                    value="Generate Save file">
            </div>

        </form>
        <div id="output"></div>
    </div>

    <py-script src="/GTA_SA_Save_Game_EditorPy/static/py/main.py"></py-script>
    <script src="/GTA_SA_Save_Game_EditorPy/static/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous"></script>
    <script src="./static/js/index.js"></script>
    <py-script>
        import os

        def list_files(root_dir):
          """
          Lists all files in a directory recursively.
      
          Args:
              root_dir: The directory to list files from.
      
          Returns:
              A list of all files in the directory and its subdirectories.
          """
          files = []
          for root, _, filenames in os.walk(root_dir):
            for filename in filenames:
              files.append(os.path.join(root, filename))
          return files
      
        # Get the current directory
        root_dir = os.getcwd()
      
        # Print each file path
        for file in list_files(root_dir):
          print(file)    
    </py-script>
</body>

</html>